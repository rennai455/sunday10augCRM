# --- Core ---
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_HOST=localhost
N8N_EDITOR_BASE_URL=http://localhost:5678
WEBHOOK_URL=http://localhost:5678
GENERIC_TIMEZONE=America/Los_Angeles

# --- Security (fill these in your local .env, never commit) ---
N8N_ENCRYPTION_KEY=REPLACE_WITH_RANDOM_32B_BASE64
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=REPLACE_ME_STRONG

# --- Postgres (local) ---
DB_TYPE=postgresdb
DB_POSTGRES_HOST=postgres
DB_POSTGRES_PORT=5432
DB_POSTGRESDB=n8n
DB_POSTGRES_USER=n8n
DB_POSTGRES_PASSWORD=REPLACE_ME_DB_PW

# --- Data retention (sane dev defaults) ---
N8N_BINARY_DATA_MODE=filesystem
EXECUTIONS_DATA_SAVE_ON_SUCCESS=none
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168
EXECUTIONS_DATA_PRUNE_MAX_COUNT=10000

# --- Size limits (avoid DoS; tune as needed) ---
N8N_PAYLOAD_SIZE_LIMIT=50mb
N8N_WORKFLOW_SIZE_LIMIT=5mb
N8N_RESPONSE_SIZE_LIMIT=50mb
N8N_EXECUTION_DATA_SIZE_LIMIT=200mb
N8N_BINARY_DATA_SIZE_LIMIT=500mb
NODE_OPTIONS=--max-old-space-size=2048

# --- Optional queue mode (uncomment if you add Redis later) ---
# EXECUTIONS_MODE=queue
# QUEUE_BULL_REDIS_HOST=redis
# QUEUE_BULL_REDIS_PORT=6379

# --- Telemetry/diagnostics ---
N8N_DIAGNOSTICS_ENABLED=false
N8N_METRICS=true
N8N_LOG_LEVEL=info
