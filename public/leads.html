<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RENN.AI – Lead Generation</title>
    <link rel="stylesheet" href="/css/dashboard.css" />
    <script type="module" src="/scripts/pages/leads.js" defer></script>
    <style>
      /* Lightweight responsive layout for lead filters */
      #leadFilters {
        display: flex;
        gap: 0.5rem;
        align-items: center;
        flex-wrap: wrap;
        margin: 0.5rem 0 0.75rem;
      }
      #leadFilters input,
      #leadFilters select {
        padding: 8px 10px;
        border-radius: 8px;
        border: 1px solid rgba(17, 24, 39, 0.15);
        background: #ffffff;
      }
      #leadFilters button {
        padding: 8px 12px;
        border-radius: 8px;
        border: 1px solid rgba(17, 24, 39, 0.15);
        background: #f3f4f6;
        font-weight: 600;
        cursor: pointer;
      }
      @media (max-width: 768px) {
        #leadFilters { flex-direction: column; align-items: stretch; }
        #leadFilters > * { width: 100%; }
      }
    </style>
  </head>
  <body>
    <aside id="sidebar" class="sidebar" aria-label="Primary">
      <h1 class="logo">RENN.AI</h1>
      <nav aria-label="Main navigation">
        <ul class="nav-links">
          <li><a href="/dashboard.html" data-path="/dashboard.html">Overview</a></li>
          <li><a href="/leads.html" data-path="/leads.html">Lead Generation</a></li>
          <li><a href="/campaigns.html" data-path="/campaigns.html">Drip Campaigns</a></li>
          <li><a href="/clients.html" data-path="/clients.html">Client Manager</a></li>
          <li><a href="/analytics.html" data-path="/analytics.html">Analytics</a></li>
          <li><a href="/settings.html" data-path="/settings.html">Settings</a></li>
        </ul>
      </nav>
      <div class="user-profile">
        <div id="profileAvatar" class="avatar">R</div>
        <div class="user-details">
          <p id="sidebarAgency" class="agency">Demo Agency</p>
          <p id="sidebarEmail" class="email">admin@renn.ai</p>
        </div>
        <button id="signOutBtn" class="signout" type="button">Sign Out</button>
      </div>
    </aside>
    <main class="dashboard">
      <header class="dashboard-header">
        <button id="mobileNavToggle" class="hamburger" aria-label="Open navigation" aria-controls="sidebar" aria-expanded="false">☰</button>
        <div class="header-text">
          <p id="welcomeMessage" class="subtitle">Welcome</p>
          <h2 id="sectionTitle">Lead Generation</h2>
        </div>
      </header>

      <section class="page-content" aria-labelledby="leadsHeading" aria-live="polite">
        <h3 id="leadsHeading">Lead Pipeline</h3>
        <div id="leadFilters" aria-label="Lead filters">
          <input id="searchInput" type="search" placeholder="Search by name, email, or company" aria-label="Search leads" />
          <select id="statusFilter" aria-label="Filter by status">
            <option value="">All</option>
            <option value="new">New</option>
            <option value="qualified">Qualified</option>
            <option value="client">Client</option>
          </select>
          <select id="scoreFilter" aria-label="Filter by score">
            <option value="">All</option>
            <option value=">20">&gt;20</option>
            <option value=">40">&gt;40</option>
          </select>
          <button id="resetFilters" type="button">Reset</button>
        </div>
        <div class="toolbar" style="display:flex;gap:.75rem;align-items:center;margin: .5rem 0 1rem;flex-wrap:wrap">
          <label for="importCampaignSelect" style="font-weight:600">Campaign:</label>
          <select id="importCampaignSelect" aria-label="Target campaign for import"></select>
          <button id="importCsvBtn" type="button" class="btn" style="padding:.5rem .75rem;border-radius:.375rem;background:#2563eb;color:#fff;border:none;cursor:pointer">Import CSV</button>
          <input id="importCsvInput" type="file" accept=".csv,text/csv" style="display:none" />
          <span id="importHelp" class="hint" style="color:#6b7280">CSV headers: name,email,score(optional)</span>
        </div>
        <div class="table-wrapper">
          <table>
            <caption>Active lead pipeline</caption>
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Company</th>
                <th scope="col">Status</th>
                <th scope="col">Score</th>
                <th scope="col">Client</th>
                <th scope="col">Website</th>
                <th scope="col">Keywords</th>
                <th scope="col">Next Step</th>
              </tr>
            </thead>
            <tbody id="leadsTableBody">
              <tr class="loading-row">
                <td colspan="8">Loading leads…</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="importErrors" class="error-list" aria-live="polite" style="margin-top: .75rem;"></div>
        <p id="leadsError" class="error hidden" role="alert">Unable to load leads right now.</p>
      </section>
    </main>
    <aside id="profilePanel" class="profile-panel" aria-label="Profile panel">
      <h3>Business Stats</h3>
      <p>Future insights and advanced analytics coming here.</p>
    </aside>
    <div id="sidebarOverlay" class="overlay" hidden aria-hidden="true"></div>
  </body>
</html>
